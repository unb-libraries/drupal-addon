services:
  testgen:
    class: '\TestGen\TestGen'
  testgen.config:
    factory: ['@config.factory', 'get']
    class: 'Drupal\Core\Config\ImmutableConfig'
    arguments: ['testgen.settings']
  test_generator:
    class: 'Drupal\testgen\generate\DrupalTestGenerator'
    arguments: ['@testgen.config']
    calls:
      - ['setGenerator', ['@testgen']]
  test_generator.module:
    class: 'Drupal\testgen\generate\ModuleTestGenerator'
    parent: 'test_generator'
    arguments: ['@module_handler']
  test_generator.site:
    class: 'Drupal\testgen\generate\SiteTestGenerator'
    parent: 'test_generator'
